-- MySQL Script generated by MySQL Workbench
-- 08/25/15 19:28:17
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `TIPO_ACESSO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `TIPO_ACESSO` ;

CREATE TABLE IF NOT EXISTS `TIPO_ACESSO` (
  `ID_TIPO_ACESSO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`ID_TIPO_ACESSO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `USUARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `USUARIO` ;

CREATE TABLE IF NOT EXISTS `USUARIO` (
  `ID_USUARIO` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(200) NOT NULL,
  `CPF_CNPJ` VARCHAR(15) NOT NULL,
  `EMAIL` VARCHAR(150) NOT NULL,
  `SEXO` CHAR(1) NULL,
  `TELEFONE` VARCHAR(11) NOT NULL,
  `CEP` VARCHAR(8) NOT NULL,
  `LOGRADOURO` VARCHAR(50) NOT NULL,
  `BAIRRO` VARCHAR(50) NULL,
  `NUMERO` VARCHAR(50) NOT NULL,
  `LOGIN` VARCHAR(50) NOT NULL,
  `SENHA` VARCHAR(10) NOT NULL,
  `CIDADE` VARCHAR(50) NULL,
  `ESTADO` VARCHAR(50) NULL,
  `ID_TIPO_ACESSO` INT NOT NULL,
  PRIMARY KEY (`ID_USUARIO`))
ENGINE = InnoDB;

CREATE UNIQUE INDEX `LOGIN_UNIQUE` ON `USUARIO` (`LOGIN` ASC);


-- -----------------------------------------------------
-- Table `AUTOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `AUTOR` ;

CREATE TABLE IF NOT EXISTS `AUTOR` (
  `ID_AUTOR` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  `SOBRENOME` VARCHAR(45) NOT NULL,
  `TELEFONE` VARCHAR(150) NULL,
  `CPF` VARCHAR(11) NULL,
  `SEXO` CHAR(1) NULL,
  `EMAIL` VARCHAR(45) NOT NULL,
  `IDADE` INT(3) NULL,
  `NACIONALIDADE` VARCHAR(100) NOT NULL,
  `DESCRICAO` VARCHAR(450) NULL,
  PRIMARY KEY (`ID_AUTOR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GENERO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GENERO` ;

CREATE TABLE IF NOT EXISTS `GENERO` (
  `ID_GENERO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_GENERO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CATEGORIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `CATEGORIA` ;

CREATE TABLE IF NOT EXISTS `CATEGORIA` (
  `ID_CATEGORIA` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_CATEGORIA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `EDITORA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `EDITORA` ;

CREATE TABLE IF NOT EXISTS `EDITORA` (
  `ID_EDITORA` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(100) NOT NULL,
  `RAZAO_SOCIAL` VARCHAR(150) NOT NULL,
  `EMAIL` VARCHAR(200) NULL,
  `TELEFONE` VARCHAR(100) NULL,
  `CNPJ` VARCHAR(100) NOT NULL,
  `IE` VARCHAR(100) NOT NULL,
  `SITE` VARCHAR(150) NULL,
  `CEP` VARCHAR(30) NULL,
  `ENDERECO` VARCHAR(45) NULL,
  `NUMERO` VARCHAR(45) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `CIDADE` VARCHAR(45) NULL,
  `BAIRRO` VARCHAR(45) NULL,
  `ESTADO` VARCHAR(45) NULL,
  PRIMARY KEY (`ID_EDITORA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `LIVRO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `LIVRO` ;

CREATE TABLE IF NOT EXISTS `LIVRO` (
  `ID_LIVRO` INT NOT NULL AUTO_INCREMENT,
  `TITULO` VARCHAR(100) NOT NULL,
  `DESCRICAO` VARCHAR(300) NOT NULL,
  `VALOR` DECIMAL(15,2) NOT NULL,
  `ISBN` INT NOT NULL,
  `NUMERO_PAGINA` INT NOT NULL,
  `CURTIDA` INT NULL,
  `ANO` INT NOT NULL,
  `IDIOMA` VARCHAR(45) NULL,
  `IMAGEM` BLOB NULL,
  `ID_AUTOR` INT NOT NULL,
  `ID_CATEGORIA` INT NOT NULL,
  `ID_EDITORA` INT NOT NULL,
  `ID_GENERO` INT NOT NULL,
  PRIMARY KEY (`ID_LIVRO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CARRINHO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `CARRINHO` ;

CREATE TABLE IF NOT EXISTS `CARRINHO` (
  `ID_CARRINHO` INT NOT NULL AUTO_INCREMENT,
  `DATA` DATETIME NOT NULL,
  `QUANTIDADE` INT NOT NULL,
  `PRECO_UNITARIO` DECIMAL(15,2) NOT NULL,
  `TOTAL` DECIMAL(15,2) NOT NULL,
  `ID_LIVRO` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_CARRINHO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `FORMA_PAGAMENTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `FORMA_PAGAMENTO` ;

CREATE TABLE IF NOT EXISTS `FORMA_PAGAMENTO` (
  `ID_FORMA_PAGAMENTO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_FORMA_PAGAMENTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `COMPRA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `COMPRA` ;

CREATE TABLE IF NOT EXISTS `COMPRA` (
  `ID_COMPRA` INT NOT NULL AUTO_INCREMENT,
  `DATA_HORA` DATETIME NOT NULL,
  `FRETE` DECIMAL(15,2) NOT NULL,
  `TOTAL` DECIMAL(15,2) NOT NULL,
  `ID_FORMA_PAGAMENTO` INT NOT NULL,
  PRIMARY KEY (`ID_COMPRA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `LISTA_DESEJO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `LISTA_DESEJO` ;

CREATE TABLE IF NOT EXISTS `LISTA_DESEJO` (
  `ID_LISTA` INT NOT NULL AUTO_INCREMENT,
  `DATA_HORA` DATETIME NOT NULL,
  `QUANTIDADE` INT NOT NULL,
  `TOTAL` DECIMAL(15,2) NOT NULL,
  `ID_LIVRO` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_LISTA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `COMENTARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `COMENTARIO` ;

CREATE TABLE IF NOT EXISTS `COMENTARIO` (
  `ID_COMENTARIO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(450) NOT NULL,
  `DATA_HORA` DATETIME NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_LIVRO` INT NOT NULL,
  PRIMARY KEY (`ID_COMENTARIO`))
ENGINE = InnoDB;

CREATE UNIQUE INDEX `Id_Comentario_UNIQUE` ON `COMENTARIO` (`ID_COMENTARIO` ASC);


-- -----------------------------------------------------
-- Table `CARRINHO_HISTORICO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `CARRINHO_HISTORICO` ;

CREATE TABLE IF NOT EXISTS `CARRINHO_HISTORICO` (
  `ID_CARRINHO_HISTORICO` INT NOT NULL AUTO_INCREMENT,
  `DATA` DATETIME NOT NULL,
  `QUANITDADE` VARCHAR(45) NOT NULL,
  `PRECO_UNITARIO` DECIMAL(15,2) NOT NULL,
  `TOTAL` DECIMAL(15,2) NOT NULL,
  `ID_COMPRA` INT NOT NULL,
  `ID_CARRINHO` INT NOT NULL,
  PRIMARY KEY (`ID_CARRINHO_HISTORICO`, `ID_CARRINHO`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
