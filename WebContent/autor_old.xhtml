<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<ui:decorate template="padrao.xhtml">
	<ui:define name="centro">
		<h:form id="form">
			<p:growl id="growl" showDetail="true" life="3000" sticky="false" />
			<h:panelGrid columns="4">
				<p:outputLabel value="Nome:" />
				<p:inputText value="#{autorBean.autor.nome}" required="true"
					requiredMessage="Campo obrigatório">
					<p:ajax update="growl" event="keyup" />
				</p:inputText>
				<p:outputLabel value="Sobre Nome:" />
				<p:inputText value="#{autorBean.autor.sobreNome}" required="true"
					requiredMessage="Campo obrigatório" />
				<p:ajax update="growl" event="keyup" />
			</h:panelGrid>
			<h:panelGrid columns="4">
				<p:outputLabel value="Telefone:" />
				<p:inputText value="#{autorBean.autor.telefone}" />
				<p:outputLabel value="CPF:" />
				<p:inputText value="#{autorBean.autor.cpf}" />
			</h:panelGrid>
			<h:panelGrid columns="4">
				<p:outputLabel for="sexo" value="Sexo:" />
				<p:selectOneRadio id="sexo" value="#{autorBean.autor.sexo}">
					<f:selectItem itemLabel="Masculino" itemValue="M"></f:selectItem>
					<f:selectItem itemLabel="Feminino" itemValue="F"></f:selectItem>
				</p:selectOneRadio>
				<p:outputLabel value="E-mail:" />
				<p:inputText value="#{autorBean.autor.email}" />
			</h:panelGrid>
			<h:panelGrid columns="4">
				<p:outputLabel value="Idade:" />
				<p:inputText value="#{autorBean.autor.idade}" />
				<p:outputLabel value="Nacionalidae:" />
				<p:inputText value="#{autorBean.autor.nacionalidade}" />
			</h:panelGrid>
			<h:panelGrid columns="2">
				<p:outputLabel value="Descrição:" />
				<p:inputTextarea value="#{autorBean.autor.descricao}" />
			</h:panelGrid>


			<h:panelGrid columns="2">
				<p:commandButton value="Salvar" actionListener="#{autorBean.salvar}"
					update="@form" />
				<p:commandButton value="Novo" actionListener="#{autorBean.novo}"
					update="@form" />
			</h:panelGrid>

			<br />

			<p:dataTable id="autores" scrollable="true" scrollWidth="400" var="autor" rows="5" paginator="true" value="#{autorBean.listAutor}"
				editable="true">

				<f:facet name="header">
           			Autores
       			</f:facet>

				<p:ajax event="rowEdit" listener="#{autorBean.onRowEdit}"
					process="@this" update=":form:growl" />
				<p:ajax event="rowEditCancel" listener="#{autorBean.onRowCancel}"
					process="@this" update=":form:growl" />

				<p:column headerText="Autor Id" style="width:100%">
					<h:outputText value="#{autor.autorId}" />
				</p:column>
				<p:column headerText="Nome" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.nome}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.nome}" style="width:100%"
								label="Nome" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				<p:column headerText="Sobre nome" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.sobreNome}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.sobreNome}" style="width:100%"
								label="Nome" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				<p:column headerText="Telefone" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.telefone}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.telefone}" style="width:100%"
								label="Telefone" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				<p:column headerText="CPF" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.cpf}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.cpf}" style="width:100%" label="CPF" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Sexo" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.sexo}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.sexo}" style="width:100%"
								label="Sexo" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="E-mail" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.email}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.email}" style="width:100%"
								label="E-mail" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Idade" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.idade}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.idade}" style="width:100%"
								label="Idade" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Nacionalidade" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.nacionalidade}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.nacionalidade}" style="width:100%"
								label="Nacionalidade" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Descrição" style="width:100%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{autor.descricao}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{autor.descricao}" style="width:100%"
								label="Descrição" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column style="width:32px">
					<p:rowEditor />
				</p:column>

				<p:column style="width:32px">
					<p:commandLink action="#{autorBean.excluir}"
						class="ui-icon ui-icon-trash" update="@form" process="@this">
						<f:setPropertyActionListener target="#{autorBean.autorId}"
							value="#{autor.autorId}" />
					</p:commandLink>
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:decorate>
</html>